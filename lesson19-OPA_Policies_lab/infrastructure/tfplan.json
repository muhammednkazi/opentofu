{"format_version":"1.2","terraform_version":"1.10.7","variables":{"aws_region":{"value":"us-east-1"},"environment":{"value":"dev"},"project_name":{"value":"opa-lab"}},"planned_values":{"outputs":{"private_bucket":{"sensitive":false},"public_bucket":{"sensitive":false},"vpc_id":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_db_instance.main","mode":"managed","type":"aws_db_instance","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":2,"values":{"allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"appdb","db_subnet_group_name":"opa-lab-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"postgres","engine_version":"15.3","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"opa-lab-db","instance_class":"db.t3.micro","manage_master_user_password":null,"max_allocated_storage":100,"monitoring_interval":0,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"publicly_accessible":true,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":false,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-db"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db","Project":"OPA-Lab"},"timeouts":null,"upgrade_storage_config":null,"username":"admin"},"sensitive_values":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_db_subnet_group.main","mode":"managed","type":"aws_db_subnet_group","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"description":"Managed by Terraform","name":"opa-lab-db-subnet-group","tags":{"Environment":"dev","Name":"opa-lab-db-subnet-group"},"tags_all":{"Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db-subnet-group","Project":"OPA-Lab"}},"sensitive_values":{"subnet_ids":[],"supported_network_types":[],"tags":{},"tags_all":{}}},{"address":"aws_instance.dev_server","mode":"managed","type":"aws_instance","name":"dev_server","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0030e4319cbf4dbf2","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t3.xlarge","launch_template":[],"root_block_device":[{"delete_on_termination":true,"tags":null,"volume_size":30,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-dev-server","Owner":"dev-team"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-dev-server","Owner":"dev-team","Project":"OPA-Lab"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_instance.prod_server","mode":"managed","type":"aws_instance","name":"prod_server","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0030e4319cbf4dbf2","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t3.large","launch_template":[],"root_block_device":[{"delete_on_termination":true,"encrypted":true,"tags":null,"volume_size":100,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"CostCenter":"engineering","Environment":"production","Name":"opa-lab-prod-server","Owner":"platform-team"},"tags_all":{"CostCenter":"engineering","Environment":"production","ManagedBy":"OpenTofu","Name":"opa-lab-prod-server","Owner":"platform-team","Project":"OPA-Lab"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"aws_s3_bucket.private_data","mode":"managed","type":"aws_s3_bucket","name":"private_data","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-data","Owner":"data-team"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-data","Owner":"data-team","Project":"OPA-Lab"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket.public_website","mode":"managed","type":"aws_s3_bucket","name":"public_website","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"tags":{"Name":"public-website"},"tags_all":{"ManagedBy":"OpenTofu","Name":"public-website","Project":"OPA-Lab"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket_acl.public_website","mode":"managed","type":"aws_s3_bucket_acl","name":"public_website","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"acl":"public-read","expected_bucket_owner":null},"sensitive_values":{"access_control_policy":[]}},{"address":"aws_s3_bucket_server_side_encryption_configuration.private_data","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"private_data","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":null}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"aws_security_group.db","mode":"managed","type":"aws_security_group","name":"db","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"description":"Database security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":5432,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":5432}],"name":"opa-lab-db-sg","revoke_rules_on_delete":false,"tags":{"Environment":"dev","Name":"opa-lab-db-sg"},"tags_all":{"Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db-sg","Project":"OPA-Lab"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"opa-lab-public-subnet","Owner":"platform-team"},"tags_all":{"ManagedBy":"OpenTofu","Name":"opa-lab-public-subnet","Owner":"platform-team","Project":"OPA-Lab"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"opa-lab-vpc"},"tags_all":{"ManagedBy":"OpenTofu","Name":"opa-lab-vpc","Project":"OPA-Lab"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"random_id.suffix","mode":"managed","type":"random_id","name":"suffix","provider_name":"registry.opentofu.org/hashicorp/random","schema_version":0,"values":{"byte_length":4,"keepers":null,"prefix":null},"sensitive_values":{}},{"address":"random_password.db_password","mode":"managed","type":"random_password","name":"db_password","provider_name":"registry.opentofu.org/hashicorp/random","schema_version":3,"values":{"keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"sensitive_values":{"bcrypt_hash":true,"result":true}}]}},"resource_changes":[{"address":"aws_db_instance.main","mode":"managed","type":"aws_db_instance","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"appdb","db_subnet_group_name":"opa-lab-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"postgres","engine_version":"15.3","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"opa-lab-db","instance_class":"db.t3.micro","manage_master_user_password":null,"max_allocated_storage":100,"monitoring_interval":0,"password_wo":null,"password_wo_version":null,"performance_insights_enabled":false,"publicly_accessible":true,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":false,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-db"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db","Project":"OPA-Lab"},"timeouts":null,"upgrade_storage_config":null,"username":"admin"},"after_unknown":{"address":true,"arn":true,"availability_zone":true,"backup_retention_period":true,"backup_target":true,"backup_window":true,"blue_green_update":[],"ca_cert_identifier":true,"character_set_name":true,"database_insights_mode":true,"domain_fqdn":true,"endpoint":true,"engine_lifecycle_support":true,"engine_version_actual":true,"hosted_zone_id":true,"id":true,"identifier_prefix":true,"iops":true,"kms_key_id":true,"latest_restorable_time":true,"license_model":true,"listener_endpoint":true,"maintenance_window":true,"master_user_secret":true,"master_user_secret_kms_key_id":true,"monitoring_role_arn":true,"multi_az":true,"nchar_character_set_name":true,"network_type":true,"option_group_name":true,"parameter_group_name":true,"password":true,"performance_insights_kms_key_id":true,"performance_insights_retention_period":true,"port":true,"replica_mode":true,"replicas":true,"resource_id":true,"restore_to_point_in_time":[],"s3_import":[],"snapshot_identifier":true,"status":true,"storage_throughput":true,"storage_type":true,"tags":{},"tags_all":{},"timezone":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"password_wo":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_db_subnet_group.main","mode":"managed","type":"aws_db_subnet_group","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"opa-lab-db-subnet-group","tags":{"Environment":"dev","Name":"opa-lab-db-subnet-group"},"tags_all":{"Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db-subnet-group","Project":"OPA-Lab"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"subnet_ids":true,"supported_network_types":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"subnet_ids":[],"supported_network_types":[],"tags":{},"tags_all":{}}}},{"address":"aws_instance.dev_server","mode":"managed","type":"aws_instance","name":"dev_server","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0030e4319cbf4dbf2","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t3.xlarge","launch_template":[],"root_block_device":[{"delete_on_termination":true,"tags":null,"volume_size":30,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-dev-server","Owner":"dev-team"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-dev-server","Owner":"dev-team","Project":"OPA-Lab"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"key_name":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":[{"device_name":true,"encrypted":true,"iops":true,"kms_key_id":true,"tags_all":true,"throughput":true,"volume_id":true}],"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.prod_server","mode":"managed","type":"aws_instance","name":"prod_server","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0030e4319cbf4dbf2","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t3.large","launch_template":[],"root_block_device":[{"delete_on_termination":true,"encrypted":true,"tags":null,"volume_size":100,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"CostCenter":"engineering","Environment":"production","Name":"opa-lab-prod-server","Owner":"platform-team"},"tags_all":{"CostCenter":"engineering","Environment":"production","ManagedBy":"OpenTofu","Name":"opa-lab-prod-server","Owner":"platform-team","Project":"OPA-Lab"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"key_name":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":[{"device_name":true,"iops":true,"kms_key_id":true,"tags_all":true,"throughput":true,"volume_id":true}],"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags_all":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_s3_bucket.private_data","mode":"managed","type":"aws_s3_bucket","name":"private_data","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"tags":{"CostCenter":"engineering","Environment":"dev","Name":"opa-lab-data","Owner":"data-team"},"tags_all":{"CostCenter":"engineering","Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-data","Owner":"data-team","Project":"OPA-Lab"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket.public_website","mode":"managed","type":"aws_s3_bucket","name":"public_website","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"tags":{"Name":"public-website"},"tags_all":{"ManagedBy":"OpenTofu","Name":"public-website","Project":"OPA-Lab"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket_acl.public_website","mode":"managed","type":"aws_s3_bucket_acl","name":"public_website","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"public-read","expected_bucket_owner":null},"after_unknown":{"access_control_policy":true,"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{"access_control_policy":[]}}},{"address":"aws_s3_bucket_server_side_encryption_configuration.private_data","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"private_data","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":null}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"aws_security_group.db","mode":"managed","type":"aws_security_group","name":"db","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Database security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.0.0/16"],"description":"","from_port":5432,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":5432}],"name":"opa-lab-db-sg","revoke_rules_on_delete":false,"tags":{"Environment":"dev","Name":"opa-lab-db-sg"},"tags_all":{"Environment":"dev","ManagedBy":"OpenTofu","Name":"opa-lab-db-sg","Project":"OPA-Lab"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"opa-lab-public-subnet","Owner":"platform-team"},"tags_all":{"ManagedBy":"OpenTofu","Name":"opa-lab-public-subnet","Owner":"platform-team","Project":"OPA-Lab"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.opentofu.org/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"opa-lab-vpc"},"tags_all":{"ManagedBy":"OpenTofu","Name":"opa-lab-vpc","Project":"OPA-Lab"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"random_id.suffix","mode":"managed","type":"random_id","name":"suffix","provider_name":"registry.opentofu.org/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"byte_length":4,"keepers":null,"prefix":null},"after_unknown":{"b64_std":true,"b64_url":true,"dec":true,"hex":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"random_password.db_password","mode":"managed","type":"random_password","name":"db_password","provider_name":"registry.opentofu.org/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"after_unknown":{"bcrypt_hash":true,"id":true,"result":true},"before_sensitive":false,"after_sensitive":{"bcrypt_hash":true,"result":true}}}],"output_changes":{"private_bucket":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"public_bucket":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"vpc_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.10.7","values":{"root_module":{"resources":[{"address":"data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_name":"registry.opentofu.org/hashicorp/aws","schema_version":0,"values":{"architecture":"x86_64","arn":"arn:aws:ec2:us-east-1::image/ami-0030e4319cbf4dbf2","block_device_mappings":[{"device_name":"/dev/sda1","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-010008dab571f972a","throughput":"0","volume_initialization_rate":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""},{"device_name":"/dev/sdb","ebs":{},"no_device":"","virtual_name":"ephemeral0"},{"device_name":"/dev/sdc","ebs":{},"no_device":"","virtual_name":"ephemeral1"}],"boot_mode":"uefi-preferred","creation_date":"2025-12-12T06:54:36.000Z","deprecation_time":"2027-12-12T06:54:36.000Z","description":"Canonical, Ubuntu, 22.04, amd64 jammy image","ena_support":true,"executable_users":null,"filter":[{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]},{"name":"virtualization-type","values":["hvm"]}],"hypervisor":"xen","id":"ami-0030e4319cbf4dbf2","image_id":"ami-0030e4319cbf4dbf2","image_location":"amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251212","image_owner_alias":"amazon","image_type":"machine","imds_support":"","include_deprecated":false,"kernel_id":"","last_launched_time":"","most_recent":true,"name":"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20251212","name_regex":null,"owner_id":"099720109477","owners":["099720109477"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/sda1","root_device_type":"ebs","root_snapshot_id":"snap-010008dab571f972a","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","uefi_data":null,"usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_values":{"block_device_mappings":[{"ebs":{}},{"ebs":{}},{"ebs":{}}],"filter":[{"values":[false]},{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.opentofu.org/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"default_tags":[{"tags":{"constant_value":{"ManagedBy":"OpenTofu","Project":"OPA-Lab"}}}],"region":{"references":["var.aws_region"]}}},"random":{"name":"random","full_name":"registry.opentofu.org/hashicorp/random"}},"root_module":{"outputs":{"private_bucket":{"expression":{"references":["aws_s3_bucket.private_data.id","aws_s3_bucket.private_data"]}},"public_bucket":{"expression":{"references":["aws_s3_bucket.public_website.id","aws_s3_bucket.public_website"]}},"vpc_id":{"expression":{"references":["aws_vpc.main.id","aws_vpc.main"]}}},"resources":[{"address":"aws_db_instance.main","mode":"managed","type":"aws_db_instance","name":"main","provider_config_key":"aws","expressions":{"allocated_storage":{"constant_value":20},"db_name":{"constant_value":"appdb"},"db_subnet_group_name":{"references":["aws_db_subnet_group.main.name","aws_db_subnet_group.main"]},"engine":{"constant_value":"postgres"},"engine_version":{"constant_value":"15.3"},"identifier":{"references":["var.project_name"]},"instance_class":{"constant_value":"db.t3.micro"},"max_allocated_storage":{"constant_value":100},"password":{"references":["random_password.db_password.result","random_password.db_password"]},"publicly_accessible":{"constant_value":true},"skip_final_snapshot":{"constant_value":true},"storage_encrypted":{"constant_value":false},"tags":{"references":["var.project_name","var.environment"]},"username":{"constant_value":"admin"},"vpc_security_group_ids":{"references":["aws_security_group.db.id","aws_security_group.db"]}},"schema_version":2},{"address":"aws_db_subnet_group.main","mode":"managed","type":"aws_db_subnet_group","name":"main","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"subnet_ids":{"references":["aws_subnet.public.id","aws_subnet.public"]},"tags":{"references":["var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_instance.dev_server","mode":"managed","type":"aws_instance","name":"dev_server","provider_config_key":"aws","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"instance_type":{"constant_value":"t3.xlarge"},"root_block_device":[{"volume_size":{"constant_value":30},"volume_type":{"constant_value":"gp3"}}],"subnet_id":{"references":["aws_subnet.public.id","aws_subnet.public"]},"tags":{"references":["var.project_name","var.environment"]}},"schema_version":1},{"address":"aws_instance.prod_server","mode":"managed","type":"aws_instance","name":"prod_server","provider_config_key":"aws","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"instance_type":{"constant_value":"t3.large"},"root_block_device":[{"encrypted":{"constant_value":true},"volume_size":{"constant_value":100},"volume_type":{"constant_value":"gp3"}}],"subnet_id":{"references":["aws_subnet.public.id","aws_subnet.public"]},"tags":{"references":["var.project_name"]}},"schema_version":1},{"address":"aws_s3_bucket.private_data","mode":"managed","type":"aws_s3_bucket","name":"private_data","provider_config_key":"aws","expressions":{"bucket":{"references":["var.project_name","random_id.suffix.hex","random_id.suffix"]},"tags":{"references":["var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_s3_bucket.public_website","mode":"managed","type":"aws_s3_bucket","name":"public_website","provider_config_key":"aws","expressions":{"bucket":{"references":["var.project_name","random_id.suffix.hex","random_id.suffix"]},"tags":{"constant_value":{"Name":"public-website"}}},"schema_version":0},{"address":"aws_s3_bucket_acl.public_website","mode":"managed","type":"aws_s3_bucket_acl","name":"public_website","provider_config_key":"aws","expressions":{"acl":{"constant_value":"public-read"},"bucket":{"references":["aws_s3_bucket.public_website.id","aws_s3_bucket.public_website"]}},"schema_version":0},{"address":"aws_s3_bucket_server_side_encryption_configuration.private_data","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"private_data","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.private_data.id","aws_s3_bucket.private_data"]},"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":{"constant_value":"AES256"}}]}]},"schema_version":0},{"address":"aws_security_group.db","mode":"managed","type":"aws_security_group","name":"db","provider_config_key":"aws","expressions":{"description":{"constant_value":"Database security group"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["10.0.0.0/16"],"description":null,"from_port":5432,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":5432}]},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name","var.environment"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.aws_region"]},"cidr_block":{"constant_value":"10.0.1.0/24"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"references":["var.project_name"]}},"schema_version":1},{"address":"random_id.suffix","mode":"managed","type":"random_id","name":"suffix","provider_config_key":"random","expressions":{"byte_length":{"constant_value":4}},"schema_version":0},{"address":"random_password.db_password","mode":"managed","type":"random_password","name":"db_password","provider_config_key":"random","expressions":{"length":{"constant_value":16},"special":{"constant_value":true}},"schema_version":3},{"address":"data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"constant_value":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]}},{"name":{"constant_value":"virtualization-type"},"values":{"constant_value":["hvm"]}}],"most_recent":{"constant_value":true},"owners":{"constant_value":["099720109477"]}},"schema_version":0}],"variables":{"aws_region":{"default":"us-east-1","description":"AWS region for resources"},"environment":{"default":"dev","description":"Environment name"},"project_name":{"default":"opa-lab","description":"Project name for resource naming"}}}},"relevant_attributes":[{"resource":"aws_db_subnet_group.main","attribute":["name"]},{"resource":"aws_s3_bucket.private_data","attribute":["id"]},{"resource":"aws_s3_bucket.public_website","attribute":["id"]},{"resource":"aws_security_group.db","attribute":["id"]},{"resource":"aws_subnet.public","attribute":["id"]},{"resource":"aws_vpc.main","attribute":["id"]},{"resource":"data.aws_ami.ubuntu","attribute":["id"]},{"resource":"random_id.suffix","attribute":["hex"]},{"resource":"random_password.db_password","attribute":["result"]}],"timestamp":"2025-12-15T12:53:18Z","errored":false}
